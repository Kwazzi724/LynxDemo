;
; File generated by cc65 v 2.19 - Git 93c1b65
;
	.fopt		compiler,"cc65 v 2.19 - Git 93c1b65"
	.setcpu		"65SC02"
	.smart		on
	.autoimport	on
	.case		on
	.debuginfo	off
	.importzp	c_sp, sreg, regsave, regbank
	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
	.macpack	longbranch
	.forceimport	__STARTUP__
	.import		_tgi_static_stddrv
	.import		_tgi_install
	.import		_tgi_init
	.import		_tgi_clear
	.import		_tgi_ioctl
	.import		_flag
	.export		_main

; ---------------------------------------------------------------
; void __near__ main (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_main: near

.segment	"CODE"

	lda     #>(_flag)
	sta     M0001+5+1
	lda     #<(_flag)
	sta     M0001+5
	lda     #<(_tgi_static_stddrv)
	ldx     #>(_tgi_static_stddrv)
	jsr     _tgi_install
	jsr     _tgi_init
	cli
L0002:	jsr     _tgi_clear
	lda     #$00
	jsr     pusha
	lda     #<(_flag)
	ldx     #>(_flag)
	jsr     _tgi_ioctl
	lda     #$04
	jsr     pusha
	ldx     #$00
	lda     #$01
	jsr     _tgi_ioctl
L0005:	lda     #$04
	jsr     pusha
	ldx     #$00
	txa
	jsr     _tgi_ioctl
	stx     tmp1
	ora     tmp1
	bne     L0005
	bra     L0002

.segment	"DATA"

M0001:
	.byte	$30
	.byte	$00
	.byte	$01
	.word	$0000
	.word	$0000
	.word	$0064
	.word	$0050
	.word	$0100
	.word	$0100

.endproc

